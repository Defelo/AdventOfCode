&fras ⊣ &args

°$"_\n\n_"
⊜∘⊸≠@\n
⊏⊗⊙("v>^<"⊂⟜¯⋯1_2) ▽⊸∊"<>^v":

Next ← (
  :↯⊙(+◡⋅⊙⋅⋅∘)⊸∊"@O[]" ⊡◡⊙⋅⋅⋅∘ ⊙⊙⍜⊡⋅1⟜:
  ⊂⨬(⊂+0_1|⊂-0_1|◌)⊗⊙("[]":)
)
Targets ← ⊚⋅⊙⋅◌⍢(⨬(Next|◌)⊡◡⊙⋅∘°⊂|≠0⧻) ¤⊙(∵⋅0,):
Move ← (
  °0/↥=@#⊡◡⋅⊙∘ ⟜⊸Targets
  ⍜⊡◌+¤⊙(⟜⍜⊡≡(@.∘) ▽≠@.◡⊡)
)
Solve  ← /+♭×¤100_1⊚∊"O[" ◌∧⍣(⊃+Move|◌) ⊙(⊢⊚⊸=@@)
Expand ← ⍜⍉♭₂⨬(".."|"##"|"@."|"[]")∵(⊗⊙".#@O")

∩Solve ,Expand,
